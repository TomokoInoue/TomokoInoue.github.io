<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <meta property="og:image" content="https://tomokoinoue.github.io/html-css_tips/share_icon/img/ogp.png">
    <title>ポップアップ</title>
</head>
<body>
    <div id="fb-root"></div>
    <script>(function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/ja_JP/sdk.js#xfbml=1&version=v2.10";
        fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));</script>
    <ul class="share_btn">
        <li class="fb"><a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.pinterest.jp%2Fpinpon0521%2F" class="js-fb">facebookでシェアする</a></li>
        <li class="tw"><a href="https://twitter.com/share?url=https%3A%2F%2Fwww.pinterest.jp%2Fpinpon0521%2F&text=%E3%81%84%E3%81%AE%E3%81%86%E3%81%88%E3%81%95%E3%82%93%E3%81%AE%E3%83%94%E3%83%B3%E3%82%BF%E3%83%AC%E3%82%B9%E3%83%88&hashtags=さつまいも" class="js-tw">Twitterでツイートする</a></li>
    </ul>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
    <script>
    // 即時関数：宣言した変数などの有効範囲（スコープ）を関数内に制限する
    // → 直接変数を書いてしまった場合、他のファイルでも変数が参照されてしまうのを防ぐ
    (function() {

        $(function() {

            // Facebookシェアボタン
            $('.js-fb').on('click', function(evt){
                // バブリングを制御する
                evt.preventDefault();

                // ポップアップを表示する処理へ引数を渡す
                popupSns(this.href, 700, 450, 'fbwindow');
            });


            // ツイートボタンクリック
            $('.js-tw').on('click', function(evt){
                // バブリングを制御する
                evt.preventDefault();

                // ポップアップを表示する処理へ引数を渡す
                popupSns(this.href, 550, 420, 'tweetwindow');
            });


            // SNSのポップアップを表示するための処理
            function popupSns(href, w, h, winName){
                var x = (screen.width - w) / 2;
                var y = (screen.height - h) / 2;

                // window.openメソッドで小窓のウィンドウを生成する
                window.open(href, winName, 'left=' + x +', top=' + y + ', width=' + w + ', height=' + h + ', personalbar=0, toolbar=0, scrollbars=1, sizable=1');
            }
        });

    })();
    </script>
</body>
</html>
