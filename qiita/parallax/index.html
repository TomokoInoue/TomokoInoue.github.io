<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>パララックス1</title>
    <link rel="stylesheet" href="css/reset.css">
    <style>
        body {
            margin: 0;
            padding: 0;
            height: 3000px;
        }
        .box {
            height: 40px;
            width: 40px;
            position: fixed;
            top: 10px;
        }
        #box1 {
            left: 10px;
            background: red;
        }
        #box2 {
            left: 60px;
            background: blue;
        }
        #box3 {
            left: 110px;
            background: green;
        }
    </style>
</head>
<body>
    <div id="box1" class="box"></div>
    <div id="box2" class="box"></div>
    <div id="box3" class="box"></div>
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
	<script>
        // 即時関数
        (function() {
            'use strict';

            // DOMの読み込み
            $(function() {

                // ドキュメント上での各boxの表示位置を取得し変数化
                var pos1 = $('#box1').offset();
                var pos2 = $('#box2').offset();
                var pos3 = $('#box3').offset();

                // スクロールさせた時
                $(window).scroll(function() {
                    // スクロール時の値を取得し、変数にする
                    var dy = $(this).scrollTop();
                    console.log(dy);

                    // box3をtopの10pxから下に動かす
                    // 2で割ることで、速さを遅く調整
                    $('#box1').css('top', pos1.top + dy / 2);
                    $('#box1').css('left', pos1.left + dy / 8);
                    $('#box1').css('width', 40 + dy * 0.2);

                    $('#box2').css('top', pos2.top + dy / 5);
                    $('#box2').css('left', pos2.left + dy / 2);

                    $('#box3').css('top', pos3.top + dy / 7);
                    $('#box3').css('left', pos3.left + dy / 4);
                });
            });
        })();
	</script>
</body>
</html>
